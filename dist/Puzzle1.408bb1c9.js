parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({10:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=exports.BasePuzzle=function(){function n(e){t(this,n),this.setting=e.setting,this.locale=e.locale,this.state={answer:"",answerSent:!1}}return e(n,[{key:"onSubmit",value:function(){}},{key:"sendAnswer",value:function(e){window.alert(this.locale.general["str-answer-sent"]);var t=JSON.stringify({setting:this.setting,locale:this.locale,answer:this.state.answer});console.log("Complete answer:",t),this.setState({answerSent:!0},e)}},{key:"setup",value:function(){this.parentEl=document.querySelector("#puzzle"),this.renderHTML()}},{key:"renderInner",value:function(e,t){var n=this;t instanceof HTMLElement||t instanceof Text?e.appendChild(t):t instanceof Array?t.forEach(function(t){n.renderInner(e,t)}):e.innerText=t||""}},{key:"renderElement",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.parentEl,a=document.createElement(e);a.id=t,this.renderInner(a,n);var i=document.querySelector("#"+t);return i&&i.parentNode.removeChild(i),r&&r.appendChild(a),a}},{key:"renderHTML",value:function(){this.parentEl.innerHTML="",this.renderElement("h1","puzzleName",this.locale.specific["str-name"])}},{key:"setState",value:function(e,t){var n=this.state;this.state=Object.assign({},n,e),"function"==typeof t?t():this.updateView()}},{key:"updateView",value:function(){}}]),n}();
},{}],11:[function(require,module,exports) {
"use strict";function t(t){return t[Math.floor(Math.random()*t.length)]}function o(t){return t.charAt(0).toUpperCase()+t.substr(1)}function e(t,e,r){var n=o(e);t.style["webkit"+n]=r,t.style["moz"+n]=r,t.style["ms"+n]=r,t.style["o"+n]=r}function r(t,o){return{col:Math.floor(o%t),row:Math.floor(o/t)}}function n(t,o,e){return o*t+e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomChoice=t,exports.capitalize=o,exports.setVendorStyle=e,exports.indexToRowCol=r,exports.rowColToIndex=n;
},{}],8:[function(require,module,exports) {

},{}],5:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cipherer=exports.Puzzle1=void 0;var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},n=require("./BasePuzzle"),r=require("../lib/util");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}require("./Puzzle1.css");var c=exports.Puzzle1=function(c){function l(e){i(this,l);var t=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return t.cipherer=new o(t.setting.characterSet,t.setting.key),t.setting.key=t.cipherer.factor,t.state=Object.assign(t.state,{answerCheck:[],currentCharIdx:0,ringRotation:0,selectedCharIdx:0,submitted:!1}),t.setup(),t}return a(l,n.BasePuzzle),e(l,[{key:"setup",value:function(){t(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"setup",this).call(this),document.onkeydown=this.onKeyPress.bind(this)}},{key:"cleanUp",value:function(){document.onkeydown=null}},{key:"onSubmit",value:function(){if(this.canSubmit()){var e=this.state.answer,t=this.setting.cipherText,n=this.cipherer.checkMessage(t,e);this.setState({answerCheck:n,submitted:!0})}}},{key:"onSendAnswer",value:function(){this.canSend()&&this.sendAnswer()}},{key:"onPrev",value:function(){var e=this.state,t=e.ringRotation,n=e.selectedCharIdx,r=this.setting.characterSet;t-=1,n<=0?n=r.length-1:n-=1,this.setState({ringRotation:t,selectedCharIdx:n})}},{key:"onNext",value:function(){var e=this.state,t=e.ringRotation,n=e.selectedCharIdx;t+=1,n>=this.setting.characterSet.length-1?n=0:n+=1,this.setState({ringRotation:t,selectedCharIdx:n})}},{key:"onErase",value:function(){if(this.canErase()){var e=this.state,t=e.answer,n=e.currentCharIdx,r=this.setting.cipherText;for(t=t.slice(0,-1),n-=1;" "===r[n];)n-=1,t=t.slice(0,-1);this.setState({answer:t,currentCharIdx:n})}}},{key:"onSelect",value:function(){if(this.canSelect()){var e=this.state.selectedCharIdx,t=this.state,n=t.currentCharIdx,r=t.answer,i=this.setting,s=i.characterSet,a=i.cipherText;for(r+=s[e],n+=1;" "===a[n];)n+=1,r+=" ";this.setState({answer:r,currentCharIdx:n})}}},{key:"onKeyPress",value:function(e){switch(e.key){case"ArrowLeft":this.onPrev();break;case"ArrowRight":this.onNext();break;case"Enter":this.onSelect();break;case"Backspace":this.onErase();break;default:return}e.preventDefault()}},{key:"canSelect",value:function(){var e=this.state,t=e.answer,n=e.submitted,r=this.setting.cipherText;return!n&&t.length<r.length}},{key:"canErase",value:function(){var e=this.state,t=e.answer,n=e.currentCharIdx;return!e.submitted&&t.length>0&&n>0}},{key:"canSubmit",value:function(){var e=this.state,t=e.answer;return!e.submitted&&t.length>0}},{key:"canSend",value:function(){var e=this.state,t=e.answerSent;return e.submitted&&!t}},{key:"updateView",value:function(){t(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"updateView",this).call(this),this.updateAnswer(),this.updateButtons(),this.updateQuestion(),this.updateRing()}},{key:"updateRing",value:function(){var e=this.state,t=e.ringRotation,n=e.selectedCharIdx,i=this.getRingRotation(t),s=document.querySelector("#puzzleRing #characters");(0,r.setVendorStyle)(s,"transform","rotateY("+-i+"deg)"),setTimeout(function(){document.querySelectorAll("#puzzleRing #characters .characterSet").forEach(function(e,t){t===n?e.classList.add("current-char"):e.classList.remove("current-char")})},60)}},{key:"updateQuestion",value:function(){var e=document.querySelector("#puzzleQuestion");e.innerHTML="",this.renderInner(e,this.renderQuestion())}},{key:"updateAnswer",value:function(){var e=document.querySelector("#puzzleAnswer");e.innerHTML="",this.renderInner(e,this.renderAnswer())}},{key:"updateButtons",value:function(){this.eraseButton.disabled=!this.canErase(),this.selectButton.disabled=!this.canSelect(),this.submitButton.disabled=!this.canSubmit(),this.sendAnswerButton.disabled=!this.canSend()}},{key:"renderHTML",value:function(){t(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"renderHTML",this).call(this),this.renderElement("p","puzzleDescription",this.renderDescription()),this.renderElement("p","puzzleQuestion",this.renderQuestion()),this.renderElement("div","puzzleRing",this.renderCipherRing()),this.renderElement("p","puzzleAnswer",this.renderAnswer()),this.submitButton=this.renderElement("button","puzzleSubmit",this.locale.general["str-check-answer"]),this.submitButton.onclick=this.onSubmit.bind(this),this.submitButton.disabled=!0,this.sendAnswerButton=this.renderElement("button","puzzleSend",this.locale.general["str-send-answer"]),this.sendAnswerButton.onclick=this.onSendAnswer.bind(this),this.sendAnswerButton.disabled=!0,this.updateView()}},{key:"renderDescription",value:function(){return[document.createTextNode(this.locale.specific["str-description"]),document.createElement("br"),document.createTextNode(this.locale.specific["str-key-description"]),document.createElement("br"),document.createTextNode(this.locale.specific["str-example-label"]),document.createTextNode(" "),document.createTextNode(this.renderExample())]}},{key:"renderQuestion",value:function(){var e=this.state.currentCharIdx,t=this.setting.cipherText,n=[document.createTextNode(this.locale.specific["str-ciphertext-label"]),document.createTextNode(" ")],r=t.split("").map(function(t,n){var r=document.createElement("span");return r.classList.add("cipher-char"),n===e&&r.classList.add("current-char"),r.innerText=t,r}),i=document.createElement("strong");return i.innerText=this.locale.specific["str-question"],[n,r,document.createElement("br"),i]}},{key:"renderExample",value:function(){var e=this.setting,t=e.key,n=e.characterSet,r=n.length;return[0,1,r-2,r-1].map(function(e){return n[u(r,e)]+" â†’ "+n[u(r,e+t)]}).join(",")}},{key:"renderAnswer",value:function(){var e=this.state,t=e.answer,n=e.answerCheck,r=e.submitted,i=[document.createTextNode(this.locale.general["str-answer-label"]),document.createTextNode(" ")],s=t.split("").map(function(e,t){var r=document.createElement("span");return r.classList.add(n[t]?"correct":"incorrect"),r.innerText=e,r}),a=document.createTextNode(t);return r?[i,s]:[i,a]}},{key:"renderCipherRing",value:function(){var e=this,t=this.setting.characterSet.split("").map(function(t,n){var i=e.getRingRotation(n),s=document.createElement("li");return s.classList.add("characterSet"),s.innerText=t,(0,r.setVendorStyle)(s,"transform","rotateY("+i+"deg) translateZ(300px)"),s}),n=this.renderElement("ul","characters",t,null),i=this.renderElement("div","ringWrapper",n,null),s=this.renderElement("button","eraseButton",this.locale.general["str-erase"],null),a=this.renderElement("button","prevButton","<<<",null),c=this.renderElement("button","nextButton",">>>",null),o=this.renderElement("button","selectButton",this.locale.general["str-select"],null);s.disabled=!0,s.onclick=this.onErase.bind(this),a.onclick=this.onPrev.bind(this),c.onclick=this.onNext.bind(this),o.onclick=this.onSelect.bind(this);var u=this.renderElement("div","controls",[s,a,c,o]);return this.eraseButton=s,this.selectButton=o,[i,u]}},{key:"getRingRotation",value:function(e){return e*(360/this.setting.characterSet.length)}}]),l}(),o=exports.Cipherer=function(){function t(e,n){i(this,t);var r=/([+-])(\d+)/g.exec(n);this.factor="-"===r[1]?-parseInt(r[2]):parseInt(r[2]),this.characterSet=e}return e(t,[{key:"cipherChar",value:function(e){if(-1===this.characterSet.indexOf(e))return e;var t=u(this.characterSet.length,this.characterSet.indexOf(e)+this.factor);return this.characterSet[t]}},{key:"cipherMessage",value:function(e){if("string"==typeof e)return e.toUpperCase().split("").map(this.cipherChar.bind(this)).join("")}},{key:"checkCharacter",value:function(e,t){return e&&t&&e===this.cipherChar(t)}},{key:"checkMessage",value:function(e,t){var n=this;return t.toUpperCase().split("").map(function(t,r){return n.checkCharacter(e[r],t)})}}]),t}();function u(e,t){return t>=e?t-e:t<0?t+e:t}window.Puzzle1=c;
},{"./BasePuzzle":10,"../lib/util":11,"./Puzzle1.css":8}]},{},[5])
//# sourceMappingURL=/Puzzle1.c014e1fc.map