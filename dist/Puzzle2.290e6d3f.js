parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({13:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n={"str-answer-label":"Vastauksesi:","str-check-answer":"Tarkista","str-send-answer":"Lähetä","str-answer-sent":"Vastaus lähetetty!","str-select":"Valitse","str-erase":"Poista"},r=exports.BasePuzzle=function(){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,r),this.options=Object.assign(n,e),this.state={answer:"",answerSent:!1},this.elementSelectors=Object.assign({parent:"#puzzle"},this.options.elementSelectors)}return e(r,[{key:"onSubmit",value:function(){}},{key:"sendAnswer",value:function(e){window.alert(this.options["str-answer-sent"]);var t=JSON.stringify({setting:this.setting,options:this.options,answer:this.state.answer});console.log("Complete answer:",t),this.setState({answerSent:!0},e)}},{key:"setup",value:function(){this.parentEl=document.querySelector(this.elementSelectors.parent),this.renderHTML()}},{key:"renderInner",value:function(e,t){var n=this;t instanceof HTMLElement||t instanceof Text?e.appendChild(t):t instanceof Array?t.forEach(function(t){n.renderInner(e,t)}):e.innerText=t||""}},{key:"renderElement",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.parentEl,s=document.createElement(e);s.id=t,this.renderInner(s,n);var a=document.querySelector("#"+t);return a&&a.parentNode.removeChild(a),r&&r.appendChild(s),s}},{key:"renderHTML",value:function(){this.parentEl.innerHTML="",this.renderElement("h1","puzzleName",this.options["str-name"])}},{key:"setState",value:function(e,t){var n=this.state;this.state=Object.assign({},n,e),"function"==typeof t?t():this.updateView()}},{key:"updateView",value:function(){}}]),r}();
},{}],14:[function(require,module,exports) {
"use strict";function t(t){return t[Math.floor(Math.random()*t.length)]}function o(t){return t.charAt(0).toUpperCase()+t.substr(1)}function e(t,e,r){var n=o(e);t.style["webkit"+n]=r,t.style["moz"+n]=r,t.style["ms"+n]=r,t.style["o"+n]=r}function r(t,o){return{col:Math.floor(o%t),row:Math.floor(o/t)}}function n(t,o,e){return o*t+e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomChoice=t,exports.capitalize=o,exports.setVendorStyle=e,exports.indexToRowCol=r,exports.rowColToIndex=n;
},{}],16:[function(require,module,exports) {

},{}],5:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Puzzle2=void 0;var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},n=require("./BasePuzzle"),r=require("../lib/util");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}require("./Puzzle2.css");var a={"str-name":"Majavakartta","str-description":"Majavakartassa esineen paikka ilmaistaan kahdella suluissa olevalla numerolla. Ensin rivin numero ja sitten sarakkeen numero.","str-input-types":{"text-or-mouse":"Anna vastauksesi klikkaamalla tai kirjoittamalla.","text-only":"Anna vastauksesi kirjoittamalla.","mouse-only":"Anna vastauksesi klikkaamalla."}},l=exports.Puzzle2=function(l){function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,c);var n=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,Object.assign(a,t)));return n.setting=e,n.state=Object.assign(n.state,{answer:{row:null,col:null}}),n.indexToRowCol=r.indexToRowCol.bind(null,e.cols),n.rowColToIndex=r.rowColToIndex.bind(null,e.cols),n.onSpotClick=n.onSpotClick.bind(n),n.onAnswerChange=n.onAnswerChange.bind(n),n.grid=Array(n.setting.rows*n.setting.cols).fill(null).map(function(e,t){var r=n.indexToRowCol(t);return new u(r.row,r.col)}),n.setting.objects.forEach(function(e){var t=n.rowColToIndex(e[0]-1,e[1]-1);n.grid[t].objectType=e[2]}),n.setup(),n}return s(c,n.BasePuzzle),e(c,[{key:"onSendAnswer",value:function(){this.canSend()&&this.sendAnswer()}},{key:"onSpotClick",value:function(e,t){if("text-only"!==this.setting.input){var n=t.row,r=t.col;this.onAnswerChange(null,{row:n,col:r})}}},{key:"onAnswerChange",value:function(e,t){if(this.canEditAnswer()){var n=this.state.answer;e&&["row","col"].indexOf(e.target.name)>-1&&(n[e.target.name]=e.target.value),this.setState({answer:e?n:t})}}},{key:"canSend",value:function(){var e=this.state,t=e.answer;return!e.answerSent&&null!==t.row&&null!==t.col}},{key:"canEditAnswer",value:function(){return!this.state.answerSent}},{key:"updateView",value:function(){t(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"updateView",this).call(this),this.updateAnswer(),this.updateButtons()}},{key:"updateButtons",value:function(){this.sendAnswerButton.disabled=!this.canSend()}},{key:"updateAnswer",value:function(){var e=this.state.answer;this.rowInput.value=e.row,this.rowInput.disabled=!this.canEditAnswer()||"mouse-only"===this.setting.input,this.colInput.value=e.col,this.colInput.disabled=!this.canEditAnswer()||"mouse-only"===this.setting.input}},{key:"renderHTML",value:function(){t(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"renderHTML",this).call(this),this.renderElement("p","puzzleDescription",this.options["str-description"]),this.renderElement("div","puzzleExample",this.renderExamples()),this.renderElement("div","puzzleGrid",this.renderGrid()),this.renderElement("p","puzzleQuestion",[document.createTextNode(this.setting.question),document.createElement("br"),document.createTextNode(this.options["str-input-types"][this.setting.input])]),this.renderElement("p","puzzleAnswerLabel",this.options["str-answer-label"]),this.renderElement("div","puzzleInput",this.renderInputForm()),this.sendAnswerButton=this.renderElement("button","puzzleSend",this.options["str-send-answer"]),this.sendAnswerButton.onclick=this.onSendAnswer.bind(this),this.sendAnswerButton.disabled=!0,this.updateView()}},{key:"renderExamples",value:function(){var e=document.createElement("ul");return this.setting.examples.forEach(function(t){var n=document.createElement("li");n.innerText=t,e.appendChild(n)}),e}},{key:"renderGrid",value:function(){var e=this,t=this.grid.map(function(t){return t.renderHTML({onClick:e.onSpotClick})});return this.renderElement("div","gridWrapper",t,null)}},{key:"renderInputForm",value:function(){var e=this;return this.rowInput=document.createElement("input"),this.colInput=document.createElement("input"),[this.rowInput,this.colInput].forEach(function(t){t.type="number",t.step=1,t.min=1,t.disabled="mouse-only"===e.setting.input,t.onchange=e.onAnswerChange,t.onkeyup=e.onAnswerChange}),this.rowInput.max=this.setting.rows,this.rowInput.name="row",this.colInput.max=this.setting.cols,this.colInput.name="col",this.renderElement("form","inputForm",[this.rowInput,this.colInput],null)}}]),c}(),u=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,t),this.col=n+1,this.row=e+1,this.objectType=r}return e(t,[{key:"renderHTML",value:function(e){var t=this,n=e.onClick,r=document.createElement("div");return r.className="spot",this.objectType?r.classList.add(this.objectType):(r.classList.add("empty"),r.innerText="•"),r.style.gridColumn=this.col,r.style.gridRow=this.row,1===this.row&&r.appendChild(this.renderIndexingNumber("col",this.col)),1===this.col&&r.appendChild(this.renderIndexingNumber("row",this.row)),r.onclick=function(e){return n(e,t)},r}},{key:"renderIndexingNumber",value:function(e,t){var n=document.createElement("span");return n.className="indexingNumber",n.classList.add(e),n.innerText=t,n}}]),t}();window.Puzzle2=l;
},{"./BasePuzzle":13,"../lib/util":14,"./Puzzle2.css":16}]},{},[5])
//# sourceMappingURL=/Puzzle2.f9164f3d.map